{
  
    
        "post0": {
            "title": "Analyse graphique de la dynamique epidemique du COVID-19 en France",
            "content": "Ce post présente la dynamique de l&#39;épidémie et propose des graphiques montrant différentes normalisations des données permettant de mesurer les variations de la vitesse de propagation du virus. . J&#39;ai commencé ce projet en avril 2020, lorsque la dynamique de l&#39;épidémie était très incertaine, durant le confinement en France. Mon objectif est de mettre à jour les données toutes les semaines pour permettre un suivi des chiffres loin du sensationnalisme et des sous-estimations que l&#39;on peut retrouver dans les médias. . Dans ce contexte, l&#39;accent est mis sur les données pondérées sur 7 jours, ce qui permet de lisser les fluctuations importantes que l&#39;on observe entre les différents jours de la semaine. Vous retrouverez le code utilisé à l&#39;adresse suivante : payoto/covid19-viz . import pandas as pd from matplotlib import pyplot as plt import requests import datetime from IPython.display import display, Markdown . . display(Markdown(&quot;Article mis à jour le {}&quot;.format(datetime.date.today().strftime(&quot;%d/%m/%Y&quot;)))) . Article mis à jour le 11/10/2020 . Mise &#224; jour des commentaires . Le 11/10/2020 . Nous observons sur les trois dernières semaines une stabilisation du nombre de réanimation : nous observons une augmentation linéaire de 25 personnes en réanimation par jour. C&#39;est un signe encourageant qui suggère que l&#39;épidémie a ralenti il y a quelques semaines. Malheureusement ceci ne nous donne pas d&#39;information sur la trajectoire des deux dernières semaines. | Ajout du nombre de cas aux graphiques concernant la France. | . Le 27/09/2020 . Aujourd&#39;hui une vue agrandie sur les dernières semaines est ajoutée. . Nous observons un phénomène surprenant d&#39;une baisse de nombre de personne à l&#39;hôpital, cela semble être un phénomène externe qui ne correspond pas à la dynamique de la maladie ; | un relativement grand nombre de décès le 18/09 (80) sort de la tendance en cours. | . Le 20/09/2020 . Deux points importants apparaissent dans les données : . L&#39;augmentation du nombre de personne en réanimation et hôpital semble se stabiliser autour de +5% par jour (doublement toutes les deux semaines) ; | Sans surprise, les tendances en réanimations et hospitalisations commencent à apparaître dans les courbes de décès. | . from viz import * . Donn&#233;es de DataAgainst Covid-19 . Les données utilisées sont celles de DataAgainst COVID-19 (aka opencovid19-fr) [github.com/opencovid19-fr/data]. Elles sont mises à jour quotidiennement. . file_name = &#39;opencovid19-fr-chiffres-cles.csv&#39; url = &#39;https://raw.githubusercontent.com/opencovid19-fr/data/master/dist/chiffres-cles.csv&#39; myfile = requests.get(url) open(file_name, &#39;wb&#39;).write(myfile.content) data = pd.read_csv(&#39;opencovid19-fr-chiffres-cles.csv&#39;) . . data.tail() . date granularite maille_code maille_nom cas_confirmes cas_ehpad cas_confirmes_ehpad cas_possibles_ehpad deces deces_ehpad reanimation hospitalises nouvelles_hospitalisations nouvelles_reanimations gueris depistes source_nom source_url source_archive source_type . 28481 2020-10-10 | region | REG-75 | Nouvelle-Aquitaine | NaN | NaN | NaN | NaN | 533.0 | NaN | 60.0 | 395.0 | 30.0 | 2.0 | 2958.0 | NaN | OpenCOVID19-fr | NaN | NaN | opencovid19-fr | . 28482 2020-10-10 | region | REG-76 | Occitanie | NaN | NaN | NaN | NaN | 631.0 | NaN | 150.0 | 572.0 | 69.0 | 14.0 | 4046.0 | NaN | OpenCOVID19-fr | NaN | NaN | opencovid19-fr | . 28483 2020-10-10 | region | REG-84 | Auvergne-Rhône-Alpes | NaN | NaN | NaN | NaN | 2019.0 | NaN | 187.0 | 1083.0 | 130.0 | 16.0 | 10128.0 | NaN | OpenCOVID19-fr | NaN | NaN | opencovid19-fr | . 28484 2020-10-10 | region | REG-93 | Provence-Alpes-Côte d&#39;Azur | NaN | NaN | NaN | NaN | 1212.0 | NaN | 186.0 | 838.0 | 71.0 | 9.0 | 8738.0 | NaN | OpenCOVID19-fr | NaN | NaN | opencovid19-fr | . 28485 2020-10-10 | region | REG-94 | Corse | NaN | NaN | NaN | NaN | 66.0 | NaN | 7.0 | 29.0 | 2.0 | 0.0 | 308.0 | NaN | OpenCOVID19-fr | NaN | NaN | opencovid19-fr | . data = enable_time_series_plot(data, timein_field=&quot;date&quot;, timeseries_field_out=&quot;t&quot;) . Derni&#232;res donn&#233;es pour la France . Ici, nous tabulons les derniers jours de données pour la France. Les données brutes ainsi que les données avec une moyenne glissante sur 7 jours sont calculées. Nous n&#39;observons que les réanimations, les hospitalisations et les décès. Les données de cas confirmés ont longtemps été insuffisantes pour permettre une analyse intelligente de l&#39;épidémie. . Dans les graphiques ci-après nous analysons trois types de données : . les données brutes d&#39;entrées en réanimation et de décès ; | ces même données pondérées sur 7 jours ; | ces données pondérées normalisée par le nombre de personnes en réanimation. | . Ce troisième graphique donne donc une indication de l&#39;accélération ou ralentissement, même lorsque les données sont d&#39;ampleurs très différentes. . maille_active = &#39;FRA&#39; fra = oc19_data_preproc(data, maille_active) fra.tail(10) . . deces deces_ehpad reanimation hospitalises cas_confirmes reanimation_cumul hospitalises_cumul deces_jour deces_jour_jour deces_ehpad_jour ... deces_ehpad_jour_mma_jour deces_jour_prop deces_ehpad_jour_prop reanimation_jour_prop hospitalises_jour_prop cas_confirmes_jour_prop reanimation_cumul_jour_prop hospitalises_cumul_jour_prop reanimation_solde_vivant_jour_prop deces_jour_mma_jour_prop . t . 2020-09-30 21264.0 | 10692.0 | 1238.0 | 6590.0 | 563535.0 | 370036.0 | 2526237.0 | 63.0 | 4.0 | 0.0 | ... | 0.000000 | 0.002526 | 0.001617 | 0.027233 | 0.014264 | 0.020887 | 0.003081 | 0.002493 | 0.070621 | 0.053191 | . 2020-10-01 21327.0 | 10692.0 | 1265.0 | 6652.0 | 577505.0 | 371301.0 | 2532889.0 | 63.0 | 0.0 | 0.0 | ... | 0.000000 | 0.002592 | 0.001617 | 0.024506 | 0.013336 | 0.019856 | 0.003154 | 0.002522 | 0.068210 | 0.028424 | . 2020-10-02 21374.0 | 10781.0 | 1276.0 | 6758.0 | 589653.0 | 372577.0 | 2539647.0 | 47.0 | -16.0 | 89.0 | ... | -0.857143 | 0.002533 | 0.001524 | 0.019928 | 0.013318 | 0.018563 | 0.003212 | 0.002550 | 0.062360 | -0.021108 | . 2020-10-03 21417.0 | 10781.0 | 1295.0 | 6758.0 | 606625.0 | 373872.0 | 2546405.0 | 43.0 | -4.0 | 0.0 | ... | 0.000000 | 0.002555 | 0.001524 | 0.020298 | 0.012387 | 0.018646 | 0.003271 | 0.002577 | 0.062548 | 0.010444 | . 2020-10-04 21449.0 | 10781.0 | 1341.0 | 6982.0 | 619190.0 | 375213.0 | 2553387.0 | 32.0 | -11.0 | 0.0 | ... | 0.000000 | 0.002584 | 0.001524 | 0.023756 | 0.014916 | 0.018601 | 0.003344 | 0.002610 | 0.065090 | 0.012887 | . 2020-10-05 21518.0 | 10781.0 | 1415.0 | 7294.0 | 624274.0 | 376628.0 | 2560681.0 | 69.0 | 37.0 | 0.0 | ... | 0.000000 | 0.002496 | 0.001524 | 0.025341 | 0.017216 | 0.018681 | 0.003427 | 0.002652 | 0.063301 | -0.031915 | . 2020-10-06 21580.0 | 10785.0 | 1426.0 | 7398.0 | 634763.0 | 378054.0 | 2568079.0 | 62.0 | -7.0 | 4.0 | ... | -3.142857 | 0.002509 | 0.001232 | 0.022240 | 0.017341 | 0.018921 | 0.003498 | 0.002694 | 0.060208 | 0.007916 | . 2020-10-07 21660.0 | 10785.0 | 1416.0 | 7536.0 | 653509.0 | 379470.0 | 2575615.0 | 80.0 | 18.0 | 0.0 | ... | 0.000000 | 0.002612 | 0.001232 | 0.017958 | 0.017933 | 0.019668 | 0.003552 | 0.002739 | 0.057910 | 0.042929 | . 2020-10-08 21736.0 | 10785.0 | 1427.0 | 7624.0 | 671638.0 | 380897.0 | 2583239.0 | 76.0 | -4.0 | 0.0 | ... | 0.000000 | 0.002688 | 0.001232 | 0.016218 | 0.018213 | 0.020022 | 0.003599 | 0.002784 | 0.057163 | 0.031785 | . 2020-10-09 21798.0 | 10785.0 | 1448.0 | 7864.0 | 691977.0 | 382345.0 | 2591103.0 | 62.0 | -14.0 | 0.0 | ... | -12.714286 | 0.002779 | 0.000053 | 0.016969 | 0.020092 | 0.021125 | 0.003650 | 0.002837 | 0.058800 | 0.035377 | . 10 rows × 50 columns . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; Dynamique de l&#39;&#233;pid&#233;mie . Dans les graphiques qui suivent nous regardons sur l&#39;axe des abscisses le nombre de personnes dans un état donné de maladie COVID. Vous retrouvez ces valeurs sur le graphique de gauche. . Au milieu, l&#39;axe des ordonnées représente le changement de jour en jour de l&#39;axe des abscisses, les points indique les données brutes, et la ligne les données moyennées. . A droite, ces mêmes données de l&#39;axe des ordonnées sont normalisées pour indiquer un changement en pourcents par jour. . Chaque couleur correspond à une semaine. . def plots_maille_code(maille_active=&#39;FRA&#39;, **kwargs): fra = oc19_data_preproc(data, maille_active) plt.close() # plot_field_loops(fra, &quot;deces_ehpad&quot;, center=False, maille_active=maille_active) plot_field_loops(fra, &quot;hospitalises_cumul&quot;, [7], center=True, maille_active=maille_active, **kwargs) plot_field_loops(fra, &quot;reanimation_cumul&quot;, [7], center=True, maille_active=maille_active, **kwargs) plot_field_loops(fra, &quot;deces&quot;, center=False, maille_active=maille_active, **kwargs) if maille_active == &quot;FRA&quot;: plt.show() display(Markdown( &quot;Pour la France le nombre de cas peut-être analysé. Contrairement aux autres&quot; + &quot; quantités le nombre de cas est lissé sur 14 jours avec une fenêtre triangulaire.&quot; )) plot_field_loops( fra, &quot;cas_confirmes&quot;, [14], center=True, maille_active=maille_active, win_type=&#39;triang&#39;, **kwargs ) return fra . . _ = plots_maille_code(maille_active=&#39;FRA&#39;) . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; Pour la France le nombre de cas peut-être analysé. Contrairement aux autres quantités le nombre de cas est lissé sur 14 jours avec une fenêtre triangulaire. . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; Il est intéressant de zoomer sur les données depuis la fin du confinement. . _ = plots_maille_code(maille_active=&#39;FRA&#39;, start_date=&#39;2020-05-18&#39;) . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; Pour la France le nombre de cas peut-être analysé. Contrairement aux autres quantités le nombre de cas est lissé sur 14 jours avec une fenêtre triangulaire. . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; Ces courbes évoluent en boucles (ou en spirale en cas de plusieurs vagues successives) : . Au début de l&#39;épidémie les courbes commencent à l’origine ; | puis se suit une accélération rapide dans la partie supérieure du graphique ; | avec le confinement l&#39;augmentation de jour en jour ralenti, cela se voit à la pente négative dès la semaine du 23 Mars ; | l&#39;épidémie atteint son pic la semaine du 06 Avril ; | Nous voyons ensuite une réduction stable autour de 5% par jour jusqu&#39;à la semaine du 08 Juin ; | La période estivale indique bien que l&#39;épidémie n&#39;allait pas disparaître car ne retournant pas à l’origine ; | depuis le 15 Août le nombre de d&#39;hospitalisations et de réanimation s&#39;accroit et c&#39;est la deuxième semaine de Septembre qui semble indiqué qu&#39;une deuxième vague a commencé. | . Une deuxième vague se manifestera comme une spirale dans les graphiques au-dessus. . Dynamique en Ile de France . Ici les mêmes graphiques sont présentés pour l&#39;île de France. . _ = plots_maille_code(maille_active=&#39;REG-11&#39;) . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; _ = plots_maille_code(maille_active=&#39;REG-11&#39;, start_date=&#39;2020-05-18&#39;) . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; Graphes par r&#233;gions . Pour chaque région les nombres de réanimation et de décès ainsi que leur dynamique sont présentées ci-dessous. . list_reg = [r for r in data[&quot;maille_code&quot;].unique() if &quot;REG&quot; in r] for reg in list_reg: oc19_data_preproc(data, reg) . &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;",
            "url": "https://payoto.github.io/blog/visualisation/data/covid/2020/09/13/visualisation-covid-en-france.html",
            "relUrl": "/visualisation/data/covid/2020/09/13/visualisation-covid-en-france.html",
            "date": " • Sep 13, 2020"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://payoto.github.io/blog/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://payoto.github.io/blog/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}